import{_ as i,c as e,o as a,ae as t}from"./chunks/framework.D7ei3XJw.js";const k=JSON.parse('{"title":"插件系统","description":"","frontmatter":{"title":"插件系统"},"headers":[],"relativePath":"guide/plugins.md","filePath":"guide/plugins.md","lastUpdated":1763954896000}'),n={name:"guide/plugins.md"};function p(l,s,d,o,c,r){return a(),e("div",null,[...s[0]||(s[0]=[t(`<p>插件以声明式对象注册在 <code>src/config/plugin-registry.js</code> 中，分为 <code>common</code>（通用）与按框架分类：</p><div class="language-js vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">{</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">  meta</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: { label, description, stability },</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">  pkg</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: { dependencies, devDependencies, scripts, </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;lint-staged&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> },</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">  files</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: [ { to, from?, content?, whenExists? } ],</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">  transforms</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: [ { file, run } ]</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span></code></pre></div><p>关键点：</p><ul><li>依赖合并：统一由模板服务合并到 <code>package.json</code>。</li><li>文件注入：支持从 snippets 复制或用 <code>content</code> 直接写入（支持函数形式动态生成）。</li><li>AST 变换：对入口文件进行安全修改（React 包裹 Provider，Vue <code>.use(router)</code> 等）。</li></ul><p>示例：React Router 插件会注入 <code>react-router-dom</code> 依赖、生成 <code>src/router.jsx</code>，并用 AST 将入口从 <code>&lt;App /&gt;</code> 切换为 <code>&lt;RouterProvider /&gt;</code>。</p>`,5)])])}const g=i(n,[["render",p]]);export{k as __pageData,g as default};
